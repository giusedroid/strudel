// Play: https://strudel.cc/#CnNhbXBsZXMoJ2dpdGh1Yjpzd2l0Y2hhbmdlbC9icmVha3MnKQoKJDogY2hvcmQoIjxBbSBGYWRkOSBDIEdhZGQ5PiIpLnZvaWNpbmcoKQogIC5zKCJwaWFubyIpCiAgLmJlYXQoIjAsNCw3LDEwLDEyLDE0LDE2IiwgMTYpLnBseSgxKS5fcGlhbm9yb2xsKCkKXyQ6IHNvdW5kKCJiZCBbYmQscmltXSBiZCBbYmQscmltXSAiKS5scGYoMTgwMCkKXyQ6IHNvdW5kKCJoaCozIG9oIikubHBmKDMwMDApCl8kOiBzb3VuZCgiYmQqMTYiKQoKJDpzb3VuZCgiYnJlYWtzLzIiKS5maXQoKS5zY3J1YihpcmFuZCg4KS5kaXYoMTYpLnJpYigyLDIpLnNlZyg4KSkuZ2FpbigxLjMpLl9zY29wZSgpCgokOiBzKCJzcXVhcmUqMTYiKQogIC5ub3RlKHJhbmQucmFuZ2UoLTgsIDgpLmRlZ3JhZGVCeSgwLjUpLmxheWVyKCB4ID0%2BIHguYWRkKCIwIikpKQogIC5zY2FsZSgiQTptaW5vciIpCiAgLnJpYigxLDIpCiAgLmdhaW4oc2xpZGVyKDEuMiwgMCwgMTAsIDAuMikpCiAgLmRpc3Qoc2xpZGVyKDAsIDAsMTApKQogIC5yb29tKHNsaWRlcigwLDAsMTAsIDAuMSkpCiAgLmRlbGF5KHNsaWRlcigwLjUsMCw1LCAwLjEpKQogIC5kZWNheSgwLjA1KQogIC5hdHRhY2soMC4xKQogIC5scGYoc2xpZGVyKDI4MDAsNTAwLDEwMDAwLCAxMDApKQogIC5fcGlhbm9yb2xsKCkK

samples('github:switchangel/breaks')

$: chord("<Am Fadd9 C Gadd9>").voicing()
  .s("piano")
  .beat("0,4,7,10,12,14,16", 16).ply(1)._pianoroll()
_$: sound("bd [bd,rim] bd [bd,rim] ").lpf(1800)
_$: sound("hh*3 oh").lpf(3000)
_$: sound("bd*16")

$:sound("breaks/2").fit().scrub(irand(8).div(16).rib(2,2).seg(8)).gain(1.3)._scope()

$: s("square*16")
  .note(rand.range(-8, 8).degradeBy(0.5).layer( x => x.add("0")))
  .scale("A:minor")
  .rib(1,2)
  .gain(slider(1.2, 0, 10, 0.2))
  .dist(slider(0, 0,10))
  .room(slider(0,0,10, 0.1))
  .delay(slider(0.5,0,5, 0.1))
  .decay(0.05)
  .attack(0.1)
  .lpf(slider(2800,500,10000, 100))
  ._pianoroll()
